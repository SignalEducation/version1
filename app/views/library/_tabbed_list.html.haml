%div.container.d-flex.libraryGroupWrapper-list.pt-4.pb-4
  %nav.levels-nav
    %ul.d-flex.flex-column.nav.nav-pills.nav-fill{id: 'levelsTabs', role: 'tablist'}
      - @levels.each_with_index do |level, counter|
        %li.nav-item{data: {tab_name: level.name, group_name: @group.name}}
          %a{class: "nav-link #{counter == 0 ? 'active' : ''}", id: "#{level.name_url}-tab", data: {toggle: 'tab'}, href: "##{level.name_url}", aria: {controls: "#{level.name_url}", selected: 'false'}, role: 'tab'}
            =level.name

  %section.container.content-section
    %h2.sr-only List of Courses
    #levelsTabsContent.tab-content
      -@levels.each_with_index do |level, counter|
        .tab-pane{id: level.name_url, class: "tab-#{level.name_url} #{counter == 0 ? 'active show' : ''} ", "aria-labelledby" => "#{level.name_url}-tab", :role => "tabpanel"}
          -if @group.name_url == 'cpd'
            -level_units = level.courses.all_active.map(&:api_unit_label)&.uniq.compact&.sort
            -level_hours = level.courses.all_active.map(&:hour_label)&.uniq.compact&.sort
            .row.row-lge
              .col-sm
                .filter-tabbed-card
                  .search-container
                    =form_tag(courses_search_url, method: :post, role: 'form', class: 'form-inline', remote: true) do
                      -if level.track == false
                        .filter-label-select-row.filter-width-full.filter-select-top-row
                          .filter-label-select-col.filter-select-key-area-ext
                            =label_tag(:key_area_id, 'Choose Key Area', class: 'filter-select-label filter-select-label-top')
                            =select_tag(:key_area_id, options_for_select( @group.key_areas.map{ |k| [k.name, k.id] }.sort), include_blank: 'All', onchange: 'jQuery(this).parent().trigger("submit")', class: 'form-control filter-select-key-area')
                      .filter-label-select-row.filter-row-wrap.filter-width-full
                        .filter-label-select-col.filter-width-half
                          %label.filter-label-container
                            %input{:checked => "checked", :name => "radio-button", :type => "radio", :value => "no", :onclick => "disableSelectBoxes('hours', #{level.id})"}/
                            %span.filter-select-label
                              Choose Units
                          =select_tag(:units, options_for_select( level_units.map{ |u| [pluralize( u, 'unit'), u] }), id: "#{level.id}-units-select", include_blank: 'All', onchange: 'jQuery(this).parent().trigger("submit")', class: 'form-control filter-select-opts')
                        .filter-label-select-col.filter-width-half.filter-pad
                          %label.filter-label-container
                            %input{:name => "radio-button", :type => "radio", :value => "no", :onclick => "disableSelectBoxes('units', #{level.id})"}/
                            %span.filter-select-label
                              Choose Hours
                          =select_tag(:hours, options_for_select( level_hours.map{ |u| [pluralize( u, 'hour'), u] }), id: "#{level.id}-hours-select", include_blank: 'All', disabled: true, onchange: 'jQuery(this).parent().trigger("submit")', class: 'form-control filter-select-opts')

                      =hidden_field_tag :level_id, level.id

          .row.row-lge{id: "#{level.id}-tabbed-courses-list"}
            =render partial: 'tabbed_courses_list', locals: { courses: level.courses.all_active.all_in_order }

:javascript
  function disableSelectBoxes(select_box, level_id) {
    let units_el =  $("#" + level_id + "-units-select");
    let hours_el =  $("#" + level_id + "-hours-select");

      switch (select_box) {
        case "units":
          units_el.prop("disabled", true);
          hours_el.prop("disabled", false);
          break;
        case "hours":
          units_el.prop("disabled", false);
          hours_el.prop("disabled", true);
          break;
      }

  };
