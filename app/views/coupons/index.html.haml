.l-section-small.is-bg-asphalt
  .l-wrap
    .container-fluid
      .row.l-margin-bottom
        .col-md-12.text-center
          %h1.l-margin-bottom.l-margin-top.text-center.h-separator.h-separator-center{style: 'letter-spacing:1.5px;'}
            =t('views.coupons.index.h1')



      .row.l-margin-top.l-margin-bottom
        .col-md-12
          =render partial: 'management_consoles/subscriptions_nav'



      .row
        .col-sm-12
          =link_to 'New Coupon', new_coupon_url, class: 'btn btn-red', title: t('views.general.new_tooltip')

      .row.l-margin-top.l-margin-bottom
        .col-md-12.l-margin-top
          .table-box
            .table-responsive
              =will_paginate @coupons, renderer: BootstrapPagination::Rails
              %table.table.sorted_table{style: 'font-size: 18px;'}
                %thead
                  %tr
                    %th=t('views.coupons.index.name')
                    %th=t('views.coupons.index.code')
                    %th=t('views.coupons.index.active')
                    %th=t('views.coupons.index.currency_id')
                    %th=t('views.coupons.index.times_redeemed')
                    %th
                    %th
                %tbody
                  -@coupons.each do |coupon|
                    %tr{id: coupon.id}
                      %td=coupon.name
                      %td=coupon.code
                      %td=tick_or_cross(coupon.active)
                      %td=coupon.currency.leading_symbol
                      %td=coupon.times_redeemed
                      %td
                        =link_to t('views.general.view'), coupon_url(coupon), class: 'btn btn-purple btn-small'
                        =link_to t('views.general.edit'), edit_coupon_url(coupon), class: 'btn btn-cyan btn-small'
                        -if coupon.destroyable?
                          =link_to t('views.general.delete'), coupon, method: :delete, data: { confirm: t('views.general.delete_confirmation') }, class: 'btn btn-red btn-small'

