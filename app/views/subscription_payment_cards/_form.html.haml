.payment-details.credit-card
  .form-group.cc
    #card-element
    #card-errors.invalid-details{role: 'alert'}
  .form-group.text-right{style: 'margin-bottom: 0;'}
    %span.custom-label-info.coupon-code-btn.js-coupon-code-btn
      %span.js-coupon-code-btn-text Have a Coupon code?
      %i.material-icons.coupon-code-btn-icon{style: 'font-size: 16px;top: 3px;position: relative;'} keyboard_arrow_down
    %span.custom-label-info.coupon-code-btn.coupon-code-btn-hide.hidden.js-coupon-code-btn-hide
      %span.js-coupon-code-btn-text Hide
      %i.material-icons.coupon-code-btn-icon{style: 'font-size: 16px;top: 3px;position: relative;'} keyboard_arrow_down

    %div.coupon-input-box.js-coupon-input-box.hidden{style: 'padding-left: 0;'}
      %input{type: 'text_field', id: 'coupon_code', class: 'form-control', placeholder: 'Coupon Code'}
      %span.coupon-code-apply-btn.js-coupon-code-apply-btn Apply
        
      .invalid-code.invalid-details
        ='Invalid Code'

  .row
    .col-sm-12.mb-2.mt-3.mt-sm-4{style: 'border-top: 1px solid #e0e0e0;'}
      .price
        %h4.m-0.mt-4.d-flex.justify-content-between
          %span Total:
          %span
            =@plans.first.currency.leading_symbol
            %span.value#stripe-total-value
      %p.billing-summary.text-right Billed every month

      .discounted-price
        %h4.m-0.mt-4
          %h4.m-0.mt-4.d-flex.justify-content-between
            %span Discounted Total:
            %span
              -# =@plans.first.currency.leading_symbol
              %span.d-value#discounted-value

    .col-xl-12.mt-sm-4
      = f.button :submit, class: 'btn btn-primary w-100 mb-3', id: 'card_submit' do
        %span Subscribe Now

      %button.btn.btn-primary.w-100.mb-3.spinning-loading{:disabled => "disabled", :type => "button", :style => "padding: 12px;"}
        %span.spinner-border.spinner-border-sm{"aria-hidden" => "true", :role => "status"}
        %span.spinner-message

:javascript
  $(document).on('ready', function() {
    $('.js-coupon-code-btn').on('click', function() {
      $('.js-coupon-code-btn-hide').show();
      $('.js-coupon-input-box').show();
      $('.js-coupon-input-box input')[0].focus();
      $('.js-coupon-code-btn').hide();
    });
    $('.js-coupon-code-btn-hide').on('click', function() {
      $('.js-coupon-input-box').hide();
      $('.js-coupon-code-btn-hide').hide();
      $('.js-coupon-code-btn').show();
    });
  });