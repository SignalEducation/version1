%main
  %article.bg-gray5
    .container
      %header.hero-section.hero-section-external
        %h1.h2-hero.mb-2
          ='Basic Plan Registration'
        %p
          ='No credit card required. Set-up takes one minute.'

      %section.pb-md-6.pb-5
        .sign-up-section
          #sign-up.form-box
            %h2.h5.px-lg-8.py-4.text-center
              ='Register for free on our basic plan to explore our innovative learning platform and discover the smarter way to study with learnsignal.'

            =form_for @user, url: create_student_url do |f|
              =render partial: 'layouts/error_messages', locals: {thing: @user, message: t('views.home_pages.sign_up_form.error_panel_caption')}
              =f.hidden_field :locale, value: (params[:locale] || 'en')
              =f.hidden_field :terms_and_conditions, id: 'hidden_term_and_conditions'
              =f.hidden_field :communication_approval, id: 'hidden_communication_approval'
              .row

                .col-sm-6
                  .form-group
                    =f.label :first_name, t('views.users.form.first_name')
                    =f.text_field :first_name, autofocus: true, class: 'form-control', id: 'user_first_name'
                .col-sm-6
                  .form-group
                    =f.label :last_name, t('views.users.form.last_name')
                    =f.text_field :last_name, class: 'form-control', id: 'user_last_name'

                .col-sm-6
                  .form-group
                    =f.label :email, t('views.users.form.email')
                    =f.email_field :email, class: 'form-control', id: 'user_email'

                .col-sm-6
                  .form-group
                    =f.label :preferred_exam_body_id, t('views.users.form.area_of_study')
                    .input-group.input-group-lg
                      =f.collection_select :preferred_exam_body_id, ExamBody.all_active.all_in_order, :id, :name, {include_blank: t('views.general.select')}, {class: 'form-control custom-select', id: 'user_exam_body'}

                .col-sm-6
                  .form-group
                    =f.label :password, t('views.users.form.password')
                    =f.password_field :password, class: 'form-control', id: 'user_password'

                .col-sm-6
                  .form-group
                    =f.label :password_confirmation, t('views.users.form.password_confirmation')
                    =f.password_field :password_confirmation, class: 'form-control', id: 'user_password_confirmation'

                .col-sm-12.pt-3
                  .form-group
                    %label.check.terms_and_conditions
                      %input{type: 'checkbox', id: 'terms_and_conditions', required: true}
                        %span
                          ="I agree to learnsignal's"
                          =link_to 'terms & conditions', terms_and_conditions_url, target: '_blank'

                .col-sm-12
                  .form-group
                    %label.check.communication_approval
                      %input{type: 'checkbox', id: 'communication_approval', required: true}
                        %span
                          ='I agree to receiving communications from learnsignal.'
                    %p
                      ="We're committed to your privacy. The information you provide is used to contact you about relevant content,
                         products, and services. You may unsubscribe from these communications at any time. For more information,
                          check out our"
                      =link_to 'Privacy Policy.', privacy_policy_url, target: '_blank'


              .pt-5.px-lg-8.text-center

                =f.submit 'Register Now', class: 'btn btn-primary', id: 'signUp'
                .sk-circle
                  .sk-circle1.sk-child
                  .sk-circle2.sk-child
                  .sk-circle3.sk-child
                  .sk-circle4.sk-child
                  .sk-circle5.sk-child
                  .sk-circle6.sk-child
                  .sk-circle7.sk-child
                  .sk-circle8.sk-child
                  .sk-circle9.sk-child
                  .sk-circle10.sk-child
                  .sk-circle11.sk-child
                  .sk-circle12.sk-child



:javascript

  $('input[type="checkbox"]').on('change', function() {
    if($('#terms_and_conditions').prop('checked') == true) {
      $("#hidden_term_and_conditions").val('true');
    } else if($('#terms_and_conditions').prop('checked') == false) {
      $("#hidden_term_and_conditions").val('false');
    }
  });

  $('input[type="checkbox"]').on('change', function() {
    if($('#communication_approval').prop('checked') == true) {
      $("#hidden_communication_approval").val('true');
    } else if($('#communication_approval').prop('checked') == false) {
      $("#hidden_communication_approval").val('false');
    }
  });

  $(document).on('ready', function() {
    $(".sk-circle").hide();

    $("#signUp").click(function(event) {
      if($('#user_first_name').val() && $('#user_last_name').val() && $('#user_email').val() && $('#user_password').val() && $('#user_terms_and_conditions').is(':checked') ) {
        $("#signUp").hide();
        $(".sk-circle").show();
      }
    });
  });

