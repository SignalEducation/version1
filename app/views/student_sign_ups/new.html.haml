.l-section-small.is-bg-asphalt
  .l-wrap
    .container
      .row
        .col-lg-10.col-lg-offset-1
          %h1.title1
            ="Welcome to your #{ENV['FREE_TRIAL_DAYS']}-day Free Trial"
          %h2.subtitle1
            ="Weâ€™re offering you #{(ENV['FREE_TRIAL_LIMIT_IN_SECONDS'].to_i/60).to_s} minutes of complimentary access over the next #{ENV['FREE_TRIAL_DAYS']} days.  Let us show you how we will help you pass your exams."

      .row.l-margin-top
        .col-lg-6.col-lg-offset-3.col-md-8.col-md-offset-2.col-sm-10.col-sm-offset-1
          #sign_up.l-margin-top
            =form_for @user, url: create_student_url do |f|
              =render partial: 'layouts/error_messages', locals: {thing: @user, message: t('views.home_pages.sign_up_form.error_panel_caption')}
              =f.hidden_field :locale, value: (params[:locale] || 'en')
              =f.hidden_field :terms_and_conditions, id: 'hidden_term_and_conditions'
              .row
                .col-md-12
                  .col-sm-6
                    .form-group
                      =f.label :first_name, t('views.users.form.first_name'), class: 'control-label'
                      =f.text_field :first_name, autofocus: true, required: true, class: 'form-control', id: 'user_first_name'
                  .col-sm-6
                    .form-group
                      =f.label :last_name, t('views.users.form.last_name'), class: 'control-label'
                      =f.text_field :last_name, class: 'form-control', id: 'user_last_name'
                  .col-sm-12
                    .form-group
                      =f.label :email, t('views.users.form.email'), class: 'control-label'
                      =f.email_field :email, class: 'form-control', required: true, id: 'user_email'
                  .col-sm-12
                    .form-group
                      =f.label :password, t('views.users.form.password'), class: 'control-label'
                      =f.password_field :password, required: true, class: 'form-control', id: 'user_password'
                  .col-sm-12
                    .form-group.l-margin-top
                      %label.check
                        %input{type: "checkbox", id: 'terms_and_conditions', required: true}
                          %span
                            %i.fa.fa-check
                          ='I Agree to LearnSignal'
                          =link_to 'Terms & Conditions', terms_and_conditions_url,

                  .col-sm-12.l-margin-top
                    =f.submit t('views.general.sign_up_now'), class: 'btn btn-red btn-wide btn-lg-text', id: 'signUp'
                    .sk-circle
                      .sk-circle1.sk-child
                      .sk-circle2.sk-child
                      .sk-circle3.sk-child
                      .sk-circle4.sk-child
                      .sk-circle5.sk-child
                      .sk-circle6.sk-child
                      .sk-circle7.sk-child
                      .sk-circle8.sk-child
                      .sk-circle9.sk-child
                      .sk-circle10.sk-child
                      .sk-circle11.sk-child
                      .sk-circle12.sk-child

      .row.l-margin-top-huge
        .col-sm-12
          .col-lg-6.col-lg-offset-3.col-md-8.col-md-offset-2.col-sm-10.col-sm-offset-1
            =link_to 'Already have an account?', sign_in_url, class: 'btn btn-red btn-wide btn-lg-text btn-secondary', style: 'line-height: 60px'



:javascript

  $('input[type="checkbox"]').on('change', function() {
    if($('#terms_and_conditions').prop('checked') == true) {
      $("#hidden_term_and_conditions").val('true');
    } else if($('#terms_and_conditions').prop('checked') == false) {
      $("#hidden_term_and_conditions").val('false');
    }
  });


  $(document).on('ready', function() {
    $(".sk-circle").hide();

    $("#signUp").click(function(event) {
      if($('#user_first_name').val() && $('#user_last_name').val() && $('#user_email').val() && $('#user_password').val() && $('#user_terms_and_conditions').is(':checked') ) {
        $("#signUp").hide();
        $(".sk-circle").show();
      }
    });

  });

