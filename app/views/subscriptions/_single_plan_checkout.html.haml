.form-group
  .custom-control.custom-radio
    %input.custom-control-input.custom-control-input-card.style-checkbox{:id => subscription.subscription_plan.interval_name.downcase, :name => "plans", :type => "radio", :data => {:price => subscription.subscription_plan.price, :frequency => subscription.subscription_plan.payment_frequency_in_months}, :value => subscription.subscription_plan.id, :checked => true}
    %label.custom-control-label{:for => subscription.subscription_plan.interval_name.downcase}
      %span.custom-label-info
        %span.h3.m-0
          %span
            =subscription.subscription_plan.interval_name
        - if subscription.subscription_plan.monthly_percentage_off.present?
          %span.discount
            %span.text-with-bg.bg-torquoise4
              ="#{subscription.subscription_plan.monthly_percentage_off}%"
            off monthly price
      %span.custom-label-amount
        %span.text-purple5.text-xl
          =subscription.subscription_plan.currency.format_number(subscription.subscription_plan.price)
        %span.p
          ="Billed every #{subscription.subscription_plan.payment_frequency_in_months > 1 ? pluralize(subscription.subscription_plan.payment_frequency_in_months, 'month') : 'month'}"
      %span.custom-check
        / custom checkbox

#all-plans
  -(subscription_plans.where(id: (subscription_plans.ids - [subscription.subscription_plan.id]))).each do |plan|
    .form-group
      .custom-control.custom-radio
        %input.custom-control-input.custom-control-input-card.style-checkbox{:id => plan.interval_name.downcase, :name => "plans", :type => "radio", :data => {:price => plan.price, :frequency => plan.payment_frequency_in_months}, :value => plan.id, :checked => ("checked" if subscription.subscription_plan_id == plan.id)}
        %label.custom-control-label{:for => plan.interval_name.downcase}
          %span.custom-label-info
            %span.h3.m-0
              %span
                =plan.interval_name
            - if plan.monthly_percentage_off.present?
              %span.discount
                %span.text-with-bg.bg-torquoise4
                  ="#{plan.monthly_percentage_off}%"
                off monthly price
          %span.custom-label-amount
            %span.text-purple5.text-xl
              =plan.currency.format_number(plan.price)
            %span.p
              ="Billed every #{plan.payment_frequency_in_months > 1 ? pluralize(plan.payment_frequency_in_months, 'month') : 'month'}"
          %span.custom-check
            / custom checkbox

%a.btn.btn-text.js-show-more-plans{:id => 'show_all_plans', :href => "#all-plans", :data => {toggle: 'collapse'}, 'aria-expanded' => false, 'aria-controls' => 'all-plans'} Show all Plans

#info-text.hidden-xs
  %p.mb-0 Sort your ACCA Tuition for 2019
  %p.mb-0 Save money, pass quicker and embrace your future
  %p.mb-2
    Original plan price
    %span
      â‚¬334.99
  .list
    %ul
      %li
        Get unlimited access to the LearnSignal ACCA Gold Approved tuition at the best possible price
      %li
        High high-quality lectures, notes and exam preparation materials all specifically designed to help you pass  - accessible wherever, whenever
      %li
        24 hour expert tutor support
      %li
        x 4 Exam Bootcamp + Webinar Week

:javascript

  $(document).on('ready', function() {
    $('#show_all_plans').on('click', function() {
      $('#all-plans').slideDown();
      $(this).hide();
    });
  })