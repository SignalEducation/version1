%main
  %article.bg-white
    .container
      %header
        .pt-7.pb-4
          %h1.h1-hero
            =@user.full_name


.bg-gray5
  .container.py-5.py-sm-6
    -if flash[:success] || flash[:warning] || flash[:error]
      =render partial: 'layouts/flash_messages'

    %section.pb-md-6
      .row
        .col-sm-12.col-md-3
          %nav.dashboard-tabs
            %ul.nav.nav-tabs{id: 'dashboardTabs', role: 'tablist'}
              %li
                %a.active{href: '#personal-details', role: 'tab', data: {toggle: 'tab'}, aria: {controls: 'personal-details', selected: 'true'}}
                  =t('views.user_accounts.personal_info.tab_heading')
              -if @user.standard_student_user?
                %li
                  %a{href: '#subscriptions', role: 'tab', data: {toggle: 'tab'}, aria: {controls: 'subscriptions', selected: 'false'}}
                    =t('views.user_accounts.subscription_info.tab_heading')

              -if @user.standard_student_user? && @subscription_payment_cards.any?
                %li
                  %a{href: '#payment-details', role: 'tab', data: {toggle: 'tab'}, aria: {controls: 'payment-details', selected: 'false'}}
                    =t('views.user_accounts.payment_details.tab_heading')

              -if @user.standard_student_user? && @orders.any?
                %li
                  %a{href: '#orders', role: 'tab', data: {toggle: 'tab'}, aria: {controls: 'orders', selected: 'false'}}
                    =t('views.user_accounts.orders_info.tab_heading')

              %li
                %a{href: '#enrollments', role: 'tab', data: {toggle: 'tab'}, aria: {controls: 'enrollments', selected: 'false'}}
                  =t('views.user_accounts.enrollments_info.tab_heading')

              -if @user.referral_code
                %li
                  %a{href: '#referral', role: 'tab', data: {toggle: 'tab'}, aria: {controls: 'referral', selected: 'false'}}
                    =t('views.user_accounts.referral_info.tab_heading')



        .col-sm-12.col-md-9
          .dashboardTabsContent
            .tab-pane{id: 'personal-details', class: "tab-personal-details active show", "aria-labelledby" => "tab-personal-details", :role => "tabpanel"}
              =render partial: 'personal_info'

            -if @user.standard_student_user?
              .tab-pane{id: 'subscriptions', class: "tab-subscriptions", "aria-labelledby" => "tab-subscriptions", :role => "tabpanel"}
                =render partial: 'subscription_info'

            -if @user.standard_student_user? && @subscription_payment_cards.any?
              .tab-pane{id: 'payment-details', class: "tab-payment-details", "aria-labelledby" => "tab-payment-details", :role => "tabpanel"}
                =render partial: 'payment_details'

            -if @orders.any?
              .tab-pane{id: 'orders', class: "tab-orders", "aria-labelledby" => "tab-orders", :role => "tabpanel"}
                =render partial: 'orders_info'

            .tab-pane{id: 'enrollments', class: "tab-enrollments", "aria-labelledby" => "tab-enrollments", :role => "tabpanel"}
              =render partial: 'enrollments_info'

            -if @user.referral_code
              .tab-pane{id: 'referral', class: "tab-referral", "aria-labelledby" => "tab-referral", :role => "tabpanel"}
                =render partial: 'referral_details'




=render partial: 'add_card_modal'
=render partial: 'student_user_form'
=render partial: 'change_password'
