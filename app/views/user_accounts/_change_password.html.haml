.remodal{"data-remodal-id" => "change-password-modal"}
  .row
    .col-md-12
      %button.remodal-close{"data-remodal-action" => "close"}
      .col-md-12
        %h2
          =t('views.user_accounts.change_password.heading')

  .row.l-margin-top
    .col-sm-12
      -if flash[:error] && flash[:error] == I18n.t('controllers.users.change_password.flash.error')
        =render partial: 'layouts/flash_messages'


  .row.l-margin-top
    .col-sm-12.l-margin-top.text-left
      =form_for(@user, url: change_password_url, method: :post, html: {class: 'form-horizontal', role: 'form', id: 'change-password-form'}, name: 'change_password_form') do |f|

        .col-md-12
          =f.label :current_password, t('views.user_accounts.change_password.current_password'), class: 'control-label'
          =f.password_field :current_password, placeholder: t('views.user_accounts.change_password.current_password_placeholder'), class: 'form-control'
          %br/
          =f.label :password, t('views.user_accounts.change_password.new_password'), class: 'control-label'
          =f.password_field :password, placeholder: t('views.user_accounts.change_password.new_password_placeholder'), class: 'form-control', id: 'pwd'

          %br/
          =f.label :password, t('views.user_accounts.change_password.password_confirmation'), class: 'control-label'
          =f.password_field :password_confirmation, placeholder: t('views.user_accounts.change_password.password_confirmation_placeholder'), class: 'form-control'

        .col-sm-12.l-margin-top
          =f.submit t('views.general.actual_submit'), class: 'btn btn-red l-margin-right-big l-padding-side-3x'


:javascript

  $(document).on('confirmation', '.remodal', function () {
    document.forms['change_password_form'].submit();
  });
